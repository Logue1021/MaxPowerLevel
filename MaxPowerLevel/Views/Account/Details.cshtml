@model AccountDetailsViewModel

@{
    ViewData["Title"] = "Characters";
}

<div class="row">
  <div class="col-md-12">
    <h1>Max Power Level</h1>
    <ul>
    @foreach (var character in Model.Characters)
    {
      <li>
        @if(!string.IsNullOrEmpty(character.EmblemPath))
        {
          <img src="@character.EmblemPath" width="48" height="48">
        }
        <a asp-action="Details" asp-controller="Character" asp-route-type="@((int)Model.Type)" asp-route-id="@Model.Id" asp-route-characterId="@character.Id">@character</a>
      </li>
    }
    <li><a asp-action="Dashboard" asp-controller="Account"  asp-route-type="@((int)Model.Type)" asp-route-id="@Model.Id">All Characters</a></li>
    </ul>
  </div>
</div>

@if(@Model.SeasonPassInfo != null)
{
<div class="row">
  <div class="col-md-12">
    <h1>Season Pass Info</h1>
    <ul>
      <li>@Model.SeasonPassInfo.SeasonName End Date:
        <span style="white-space: nowrap;">
          <script>
            var strDate = new String('@Model.SeasonPassInfo.EndDate.ToString("MM/dd/yyyy hh:mm:ss tt") UTC');
            var localTime = new Date(strDate);
            if(localTime.toLocaleDateString !== undefined) {
              var options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
              document.write(localTime.toLocaleDateString(undefined, options));
            }
            else {
              document.write(localTime.toLocaleString());
            }
          </script>
        </span>
      </li>
      <li>Rank: @Model.SeasonPassInfo.Rank</li>
      @if(Model.SeasonPassInfo.RanksPerWeek.HasValue)
      {
        <li>Ranks per Week for +20 Power: @Model.SeasonPassInfo.RanksPerWeek.Value</li>
      }
    </ul>
  </div>
</div>
}

<div class="row">
  <h1>Charged with Light Mods</h1>
</div>
<div class="row">
  <p>Display all mods that use the <a asp-action="Index" asp-controller="chargedWithLight" asp-route-type="@((int)Model.Type)" asp-route-id="@Model.Id">Charged with Light </a> mechanic.</p>
</div>
